/* Pure CSS Iridescence Animation - No WebGL dependency */
.iridescence-fallback {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  display: block;
  pointer-events: none;
  z-index: 0;
  opacity: 1;
  mix-blend-mode: normal;
  overflow: hidden;
}

.iridescence-layer {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, transparent 30%, rgba(255, 255, 255, 0.1) 70%);
  animation: iridescence-float 20s ease-in-out infinite;
  will-change: transform, opacity;
}

.layer-1 {
  background: radial-gradient(circle, rgba(147, 51, 234, 0.3) 0%, transparent 70%);
  animation: iridescence-float 15s ease-in-out infinite;
  animation-delay: 0s;
  transform: translate(calc(var(--mouse-x, 0.5) * 20px - 10px), calc(var(--mouse-y, 0.5) * 20px - 10px));
}

.layer-2 {
  background: radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, transparent 70%);
  animation: iridescence-float 18s ease-in-out infinite reverse;
  animation-delay: -5s;
  transform: translate(calc(var(--mouse-x, 0.5) * -15px + 7.5px), calc(var(--mouse-y, 0.5) * -15px + 7.5px));
}

.layer-3 {
  background: radial-gradient(circle, rgba(236, 72, 153, 0.3) 0%, transparent 70%);
  animation: iridescence-float 22s ease-in-out infinite;
  animation-delay: -10s;
  transform: translate(calc(var(--mouse-x, 0.5) * 25px - 12.5px), calc(var(--mouse-y, 0.5) * 25px - 12.5px));
}

.layer-4 {
  background: radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, transparent 70%);
  animation: iridescence-float 25s ease-in-out infinite reverse;
  animation-delay: -15s;
  transform: translate(calc(var(--mouse-x, 0.5) * -30px + 15px), calc(var(--mouse-y, 0.5) * -30px + 15px));
}

@keyframes iridescence-float {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.5;
  }
  25% {
    transform: translate(10%, 15%) scale(1.1);
    opacity: 0.7;
  }
  50% {
    transform: translate(-5%, 25%) scale(0.9);
    opacity: 0.6;
  }
  75% {
    transform: translate(15%, -10%) scale(1.05);
    opacity: 0.8;
  }
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  .iridescence-fallback {
    opacity: 0.8;
  }
  
  .iridescence-layer {
    animation-duration: 30s; /* Slower on mobile for better performance */
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .iridescence-fallback {
    opacity: 0.7;
  }
  
  .iridescence-layer {
    animation-duration: 35s; /* Even slower on touch devices */
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .iridescence-layer {
    animation: none;
    opacity: 0.3;
  }
}
